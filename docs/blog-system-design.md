# ä¼æ¥­ç´šéƒ¨è½æ ¼ç³»çµ±å®Œæ•´è¨­è¨ˆæ–¹æ¡ˆ

> æ’°å¯«æ—¥æœŸï¼š2025-01-30
> å°ˆæ¡ˆï¼š5dpapa é›»å•†èˆ‡éƒ¨è½æ ¼å¹³å°

---

## ğŸ“Š ç›®éŒ„

1. [ä¸»æµéƒ¨è½æ ¼å¹³å°åˆ†æ](#ä¸»æµéƒ¨è½æ ¼å¹³å°åˆ†æ)
2. [å»ºè­°æ¡ç”¨çš„æ¨¡å¼](#å»ºè­°æ¡ç”¨çš„æ¨¡å¼)
3. [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
4. [è³‡æ–™åº«è¨­è¨ˆ](./blog-database-schema.md)
5. [API è¨­è¨ˆ](./blog-api-spec.md)
6. [TypeScript é¡å‹](./blog-types.md)
7. [å‰ç«¯æ¶æ§‹](#å‰ç«¯æ¶æ§‹)
8. [å¯¦ä½œå„ªå…ˆç´š](#å¯¦ä½œå„ªå…ˆç´š)

---

## ğŸ“Š ä¸»æµéƒ¨è½æ ¼å¹³å°åˆ†æ

### 1. Medium æ¨¡å¼

**ç‰¹é»ï¼š**
- âœ… ç°¡æ½”çš„ç·¨è¼¯å™¨ï¼ˆMarkdown + Rich Textï¼‰
- âœ… Clap ç³»çµ±ï¼ˆæŒ‰è®šï¼‰
- âœ… å›æ‡‰/ç•™è¨€
- âœ… æ¨™ç±¤åˆ†é¡
- âœ… é–±è®€æ™‚é–“ä¼°ç®—
- âœ… è‰ç¨¿è‡ªå‹•å„²å­˜

**é©ç”¨å ´æ™¯ï¼š** å…§å®¹å‰µä½œè€…å¹³å°ã€é–±è®€é«”é©—å„ªå…ˆ

---

### 2. Dev.to æ¨¡å¼

**ç‰¹é»ï¼š**
- âœ… Markdown å„ªå…ˆ
- âœ… ç¨‹å¼ç¢¼é«˜äº®
- âœ… ç³»åˆ—æ–‡ç« ï¼ˆSeriesï¼‰
- âœ… ç¤¾ç¾¤äº’å‹•ï¼ˆlike, bookmark, unicornï¼‰
- âœ… æ¨™ç±¤ç³»çµ±
- âœ… å°é¢åœ–ä¸Šå‚³

**é©ç”¨å ´æ™¯ï¼š** æŠ€è¡“éƒ¨è½æ ¼ã€é–‹ç™¼è€…ç¤¾ç¾¤

---

### 3. Hashnode æ¨¡å¼

**ç‰¹é»ï¼š**
- âœ… å€‹äºº Blog å¹³å°
- âœ… ç³»åˆ—æ–‡ç« 
- âœ… Newsletter æ•´åˆ
- âœ… è‡ªè¨‚åŸŸå
- âœ… SEO å„ªåŒ–

**é©ç”¨å ´æ™¯ï¼š** å€‹äººå“ç‰Œå»ºç«‹ã€æŠ€è¡“ä½œå®¶

---

### 4. Ghost æ¨¡å¼ï¼ˆCMSï¼‰

**ç‰¹é»ï¼š**
- âœ… æœƒå“¡åˆ¶
- âœ… Newsletter
- âœ… ä»˜è²»è¨‚é–±
- âœ… ç·¨è¼¯åœ˜éšŠç®¡ç†

**é©ç”¨å ´æ™¯ï¼š** å°ˆæ¥­å…§å®¹å¹³å°ã€ä»˜è²»è¨‚é–±æœå‹™

---

## ğŸ¯ å»ºè­°æ¡ç”¨çš„æ¨¡å¼

åŸºæ–¼ 5dpapa å°ˆæ¡ˆï¼ˆé›»å•† + éƒ¨è½æ ¼ï¼‰ç‰¹æ€§ï¼Œå»ºè­°æ¡ç”¨ï¼š

### **Dev.to + Medium æ··åˆæ¨¡å¼**

**æ ¸å¿ƒåŠŸèƒ½ï¼š**

| åŠŸèƒ½ | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| Markdown ç·¨è¼¯å™¨ | â­â­â­ | æŠ€è¡“å‹å–„ã€æ˜“æ–¼ç¶­è­· |
| æ¨™ç±¤åˆ†é¡ç³»çµ± | â­â­â­ | å…§å®¹çµ„ç¹”ã€SEO |
| äº’å‹•åŠŸèƒ½ | â­â­ | like, bookmark, comment |
| ç³»åˆ—æ–‡ç«  | â­â­ | æ•™å­¸æ–‡å¯åšæˆç³»åˆ— |
| SEO å„ªåŒ– | â­â­â­ | æœå°‹å¼•æ“å¯è¦‹åº¦ |
| é–±è®€æ™‚é–“ä¼°ç®— | â­ | æå‡ç”¨æˆ¶é«”é©— |

**æš«ä¸å¯¦ä½œï¼š**
- âŒ ä»˜è²»è¨‚é–±ï¼ˆå¯å¾ŒçºŒæ“´å……ï¼‰
- âŒ Newsletterï¼ˆå¯å¾ŒçºŒæ“´å……ï¼‰
- âŒ å¤šä½œè€…ç®¡ç†ï¼ˆPhase 2ï¼‰

---

## ğŸ’» æŠ€è¡“æ£§

### å‰ç«¯

```typescript
{
  "framework": "Next.js 15",
  "language": "TypeScript",
  "styling": "styled-components",
  "state": "Zustand + React Query",
  "markdown": "react-markdown / MDX",
  "editor": "å¾…å®šï¼ˆreact-simplemde-editor / Tiptapï¼‰",
  "syntax-highlight": "prism-react-renderer / highlight.js"
}
```

### å¾Œç«¯ï¼ˆå‡è¨­ï¼‰

```typescript
{
  "runtime": "Node.js",
  "framework": "Express / Fastify",
  "database": "PostgreSQL",
  "orm": "Prisma / TypeORM",
  "auth": "JWT (HttpOnly Cookie)",
  "storage": "Cloudinary / AWS S3ï¼ˆåœ–ç‰‡ï¼‰"
}
```

---

## ğŸ“ å‰ç«¯æ¶æ§‹

### ç›®éŒ„çµæ§‹

```
features/blog/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PostCard/           # æ–‡ç« å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ style.ts
â”‚   â”œâ”€â”€ PostList/           # æ–‡ç« åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ style.ts
â”‚   â”œâ”€â”€ PostDetail/         # æ–‡ç« è©³ç´°é 
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ style.ts
â”‚   â”œâ”€â”€ PostEditor/         # Markdown ç·¨è¼¯å™¨
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ Preview.tsx
â”‚   â”‚   â””â”€â”€ style.ts
â”‚   â”œâ”€â”€ CommentSection/     # ç•™è¨€å€
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ CommentItem.tsx
â”‚   â”‚   â”œâ”€â”€ CommentForm.tsx
â”‚   â”‚   â””â”€â”€ style.ts
â”‚   â”œâ”€â”€ TagBadge/          # æ¨™ç±¤å¾½ç« 
â”‚   â”œâ”€â”€ CategoryFilter/     # åˆ†é¡ç¯©é¸
â”‚   â”œâ”€â”€ SeriesNav/         # ç³»åˆ—å°èˆª
â”‚   â””â”€â”€ PostStats/         # çµ±è¨ˆè³‡è¨Š
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ usePost.ts          # å–å¾—å–®ç¯‡æ–‡ç« ï¼ˆReact Queryï¼‰
â”‚   â”œâ”€â”€ usePosts.ts         # å–å¾—æ–‡ç« åˆ—è¡¨
â”‚   â”œâ”€â”€ useCreatePost.ts    # å‰µå»ºæ–‡ç« ï¼ˆmutationï¼‰
â”‚   â”œâ”€â”€ useUpdatePost.ts    # æ›´æ–°æ–‡ç« 
â”‚   â”œâ”€â”€ useDeletePost.ts    # åˆªé™¤æ–‡ç« 
â”‚   â”œâ”€â”€ useComments.ts      # å–å¾—ç•™è¨€
â”‚   â”œâ”€â”€ useCreateComment.ts # å‰µå»ºç•™è¨€
â”‚   â”œâ”€â”€ useInteraction.ts   # äº’å‹•ï¼ˆlike, bookmarkï¼‰
â”‚   â””â”€â”€ useTags.ts          # å–å¾—æ¨™ç±¤
â”‚
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ posts.ts           # æ–‡ç«  API å‘¼å«
â”‚   â”œâ”€â”€ comments.ts        # ç•™è¨€ API å‘¼å«
â”‚   â”œâ”€â”€ tags.ts            # æ¨™ç±¤ API å‘¼å«
â”‚   â”œâ”€â”€ interactions.ts    # äº’å‹• API å‘¼å«
â”‚   â””â”€â”€ series.ts          # ç³»åˆ— API å‘¼å«
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ markdown.ts         # Markdown è™•ç†
    â”œâ”€â”€ readingTime.ts      # è¨ˆç®—é–±è®€æ™‚é–“
    â”œâ”€â”€ slugify.ts          # ç”Ÿæˆ slug
    â””â”€â”€ excerpt.ts          # ç”Ÿæˆæ‘˜è¦
```

### é é¢çµæ§‹

```
app/
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ page.tsx                    # æ–‡ç« åˆ—è¡¨é 
â”‚   â”œâ”€â”€ [slug]/
â”‚   â”‚   â””â”€â”€ page.tsx                # æ–‡ç« è©³ç´°é 
â”‚   â”œâ”€â”€ tags/
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx            # æ¨™ç±¤é 
â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx            # åˆ†é¡é 
â”‚   â”œâ”€â”€ series/
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx            # ç³»åˆ—é 
â”‚   â””â”€â”€ write/
â”‚       â””â”€â”€ page.tsx                # ç·¨è¼¯å™¨é ï¼ˆéœ€èªè­‰ï¼‰
```

---

## ğŸ¯ å¯¦ä½œå„ªå…ˆç´š

### Phase 1: MVPï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

**ç›®æ¨™ï¼š** åŸºæœ¬çš„éƒ¨è½æ ¼åŠŸèƒ½

**åŠŸèƒ½æ¸…å–®ï¼š**
1. âœ… æ–‡ç«  CRUDï¼ˆå‰µå»ºã€è®€å–ã€æ›´æ–°ã€åˆªé™¤ï¼‰
2. âœ… Markdown ç·¨è¼¯å™¨
3. âœ… æ–‡ç« åˆ—è¡¨ + è©³ç´°é 
4. âœ… æ¨™ç±¤ç³»çµ±
5. âœ… åŸºæœ¬ SEOï¼ˆmeta tagsã€Open Graphï¼‰
6. âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ

**é ä¼°æ™‚é–“ï¼š** 2-3 é€±

**é©—æ”¶æ¨™æº–ï¼š**
- [ ] å¯ä»¥ç™¼å¸ƒæ–‡ç« 
- [ ] Markdown æ­£ç¢ºæ¸²æŸ“
- [ ] æ¨™ç±¤å¯ä»¥ç¯©é¸
- [ ] SEO meta tags æ­£ç¢º
- [ ] æ‰‹æ©Ÿç‰ˆæ­£å¸¸é¡¯ç¤º

---

### Phase 2: äº’å‹•åŠŸèƒ½

**ç›®æ¨™ï¼š** å¢åŠ ç”¨æˆ¶åƒèˆ‡åº¦

**åŠŸèƒ½æ¸…å–®ï¼š**
1. âœ… ç•™è¨€ç³»çµ±ï¼ˆå«å›è¦†ï¼‰
2. âœ… æŒ‰è®š/æ”¶è—
3. âœ… ç€è¦½è¨ˆæ•¸
4. âœ… åˆ†äº«åŠŸèƒ½ï¼ˆç¤¾ç¾¤åª’é«”ï¼‰
5. âœ… ä½œè€…è³‡è¨Šé 

**é ä¼°æ™‚é–“ï¼š** 2 é€±

**é©—æ”¶æ¨™æº–ï¼š**
- [ ] ç”¨æˆ¶å¯ä»¥ç•™è¨€å’Œå›è¦†
- [ ] æŒ‰è®šå’Œæ”¶è—åŠŸèƒ½æ­£å¸¸
- [ ] ç€è¦½æ¬¡æ•¸æº–ç¢ºè¨ˆç®—
- [ ] å¯ä»¥åˆ†äº«åˆ°ç¤¾ç¾¤åª’é«”

---

### Phase 3: é€²éšåŠŸèƒ½

**ç›®æ¨™ï¼š** æå‡å…§å®¹çµ„ç¹”å’Œç”¨æˆ¶é«”é©—

**åŠŸèƒ½æ¸…å–®ï¼š**
1. âœ… ç³»åˆ—æ–‡ç« 
2. âœ… è‰ç¨¿è‡ªå‹•å„²å­˜
3. âœ… åœ–ç‰‡ä¸Šå‚³ï¼ˆæ‹–æ”¾æ”¯æ´ï¼‰
4. âœ… ç¨‹å¼ç¢¼èªæ³•é«˜äº®
5. âœ… ç›®éŒ„ï¼ˆTOCï¼‰è‡ªå‹•ç”Ÿæˆ
6. âœ… é–±è®€é€²åº¦æ¢
7. âœ… ç›¸é—œæ–‡ç« æ¨è–¦

**é ä¼°æ™‚é–“ï¼š** 2-3 é€±

---

### Phase 4: å„ªåŒ–èˆ‡æ“´å……

**ç›®æ¨™ï¼š** ä¼æ¥­ç´šåŠŸèƒ½

**åŠŸèƒ½æ¸…å–®ï¼š**
1. âœ… å…¨æ–‡æœå°‹ï¼ˆElasticsearch / PostgreSQL Full-Textï¼‰
2. âœ… æ™ºèƒ½æ¨è–¦ç³»çµ±
3. âœ… RSS Feed
4. âœ… Newsletter æ•´åˆ
5. âœ… Analyticsï¼ˆé–±è®€çµ±è¨ˆã€ç†±é–€æ–‡ç« ï¼‰
6. âœ… å¤šèªè¨€æ”¯æ´ï¼ˆi18nï¼‰
7. âœ… åœ–ç‰‡ CDN å„ªåŒ–

**é ä¼°æ™‚é–“ï¼š** 3-4 é€±

---

## ğŸ”§ é—œéµæŠ€è¡“æ±ºç­–

### 1. Markdown ç·¨è¼¯å™¨é¸æ“‡

| æ–¹æ¡ˆ | å„ªé» | ç¼ºé» | æ¨è–¦åº¦ |
|------|------|------|--------|
| **react-markdown** | è¼•é‡ã€ç°¡å–® | åŠŸèƒ½è¼ƒå°‘ | â­â­â­ |
| **MDX** | å¯åµŒå…¥ React çµ„ä»¶ | å­¸ç¿’æ›²ç·šè¼ƒé«˜ | â­â­ |
| **Tiptap** | WYSIWYGã€åŠŸèƒ½å¼·å¤§ | è¼ƒé‡ã€è¨­å®šè¤‡é›œ | â­â­ |
| **SimpleMDE** | å³æ™‚é è¦½ã€å·¥å…·åˆ— | æ¨£å¼å®¢è£½åŒ–å›°é›£ | â­â­â­ |

**å»ºè­°ï¼š** å…ˆç”¨ `react-markdown` + `react-simplemde-editor`

---

### 2. åœ–ç‰‡ä¸Šå‚³æ–¹æ¡ˆ

| æ–¹æ¡ˆ | å„ªé» | ç¼ºé» | æˆæœ¬ |
|------|------|------|------|
| **Cloudinary** | è‡ªå‹•å„ªåŒ–ã€CDNã€å…è²»é¡åº¦ | ä¾è³´ç¬¬ä¸‰æ–¹ | ğŸ’° Free tier æ…·æ…¨ |
| **AWS S3 + CloudFront** | å®Œå…¨æ§åˆ¶ã€å¯æ“´å±• | è¨­å®šè¤‡é›œ | ğŸ’°ğŸ’° æŒ‰é‡è¨ˆè²» |
| **è‡ªæ¶ Server** | ç„¡å¤–éƒ¨ä¾è³´ | é »å¯¬æˆæœ¬é«˜ã€ç„¡å„ªåŒ– | ğŸ’°ğŸ’°ğŸ’° |

**å»ºè­°ï¼š** Cloudinaryï¼ˆé–‹ç™¼æœŸï¼‰â†’ AWS S3ï¼ˆæ­£å¼ç’°å¢ƒï¼‰

---

### 3. SEO å„ªåŒ–ç­–ç•¥

**å¿…å‚™é …ç›®ï¼š**
- âœ… Dynamic meta tagsï¼ˆtitle, description, keywordsï¼‰
- âœ… Open Graph tagsï¼ˆç¤¾ç¾¤åˆ†äº«ï¼‰
- âœ… Structured Dataï¼ˆJSON-LDï¼‰
- âœ… Sitemap è‡ªå‹•ç”Ÿæˆ
- âœ… Canonical URLs
- âœ… èªæ„åŒ– HTML

**Next.js 15 å¯¦ä½œï¼š**

```typescript
// app/blog/[slug]/page.tsx
export async function generateMetadata({ params }) {
  const post = await getPost(params.slug);

  return {
    title: post.metaTitle || post.title,
    description: post.metaDescription || post.excerpt,
    keywords: post.metaKeywords,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      images: [post.coverImage],
      type: 'article',
      publishedTime: post.publishedAt,
      authors: [post.author.name],
    },
    twitter: {
      card: 'summary_large_image',
      title: post.title,
      description: post.excerpt,
      images: [post.coverImage],
    },
  };
}
```

---

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–å»ºè­°

### 1. è³‡æ–™è¼‰å…¥

```typescript
// ä½¿ç”¨ React Query çš„ prefetch
export async function getServerSideProps() {
  const queryClient = new QueryClient();

  await queryClient.prefetchQuery(['posts'], fetchPosts);

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  };
}
```

### 2. åœ–ç‰‡å„ªåŒ–

```typescript
// ä½¿ç”¨ Next.js Image çµ„ä»¶
import Image from 'next/image';

<Image
  src={post.coverImage}
  alt={post.coverImageAlt}
  width={1200}
  height={630}
  priority={isFeatured}
  placeholder="blur"
/>
```

### 3. ç¨‹å¼ç¢¼åˆ†å‰²

```typescript
// å‹•æ…‹è¼‰å…¥ç·¨è¼¯å™¨ï¼ˆæ¸›å°‘é¦–é åŒ…å¤§å°ï¼‰
const PostEditor = dynamic(() => import('@/features/blog/components/PostEditor'), {
  ssr: false,
  loading: () => <EditorSkeleton />,
});
```

---

## ğŸ”’ å®‰å…¨æ€§è€ƒé‡

### 1. XSS é˜²è­·

```typescript
// ä½¿ç”¨ DOMPurify æ¸…ç† HTML
import DOMPurify from 'isomorphic-dompurify';

const cleanHtml = DOMPurify.sanitize(post.contentHtml);
```

### 2. CSRF ä¿è­·

- âœ… ä½¿ç”¨ç¾æœ‰çš„ CSRF token æ©Ÿåˆ¶
- âœ… æ‰€æœ‰ POST/PUT/DELETE è«‹æ±‚éƒ½è¦é©—è­‰

### 3. å…§å®¹å¯©æ ¸

```typescript
// æ•æ„Ÿè©éæ¿¾ï¼ˆå¯é¸ï¼‰
import Filter from 'bad-words';

const filter = new Filter();
const cleanContent = filter.clean(content);
```

---

## ğŸ“š åƒè€ƒè³‡æº

- [Next.js æ–‡æª”](https://nextjs.org/docs)
- [React Query æ–‡æª”](https://tanstack.com/query/latest)
- [MDN - SEO æœ€ä½³å¯¦è¸](https://developer.mozilla.org/en-US/docs/Glossary/SEO)
- [Dev.to é–‹æºå°ˆæ¡ˆ](https://github.com/forem/forem)
- [Ghost CMS](https://github.com/TryGhost/Ghost)

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. [ ] ç¢ºèªè³‡æ–™åº« schemaï¼ˆåƒè€ƒ [blog-database-schema.md](./blog-database-schema.md)ï¼‰
2. [ ] ç¢ºèª API è¦æ ¼ï¼ˆåƒè€ƒ [blog-api-spec.md](./blog-api-spec.md)ï¼‰
3. [ ] ç¢ºèª TypeScript é¡å‹ï¼ˆåƒè€ƒ [blog-types.md](./blog-types.md)ï¼‰
4. [ ] é–‹å§‹å¯¦ä½œ Phase 1 MVP
5. [ ] è¨­å®šé–‹ç™¼ç’°å¢ƒï¼ˆMarkdown ç·¨è¼¯å™¨ã€åœ–ç‰‡ä¸Šå‚³ï¼‰

---

**æ–‡æª”ç¶­è­·è€…ï¼š** Claude Code
**æœ€å¾Œæ›´æ–°ï¼š** 2025-01-30
